!function(){"use strict";var e,t={838:function(e,t,o){var r=window.wp.blocks,n=window.wp.element,u=window.lodash,l=window.wp.i18n,i=window.wp.blockEditor,a=window.wp.components,c=window.wp.apiFetch,s=o.n(c),p=function(e){let{label:t,value:o,onChange:r}=e;const[u,i]=(0,n.useState)([]),[c,p]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{const e=void 0===window.AbortController?void 0:new window.AbortController;return p(!0),s()({path:"wc/v3/products/attributes",signal:null==e?void 0:e.signal}).then((e=>{i(e),p(!1)})),()=>null==e?void 0:e.abort()}),[]),void 0===u||c)return(0,n.createElement)(a.Spinner,null);const d=[{label:(0,l.__)("Select an attribute","woocommerce-product-attributes"),value:0},...u.map((e=>({label:e.name,value:e.id})))];return(0,n.createElement)(a.SelectControl,{label:void 0!==t?t:(0,l.__)("Attributes","woocommerce-product-attributes"),value:o,options:d,onChange:e=>r(Number(e))})},d=JSON.parse('{"u2":"petitphp/woocommerce-product-attributes"}');(0,r.registerBlockType)(d.u2,{edit:function(e){let{attributes:{productAttributeId:t,prefix:o,separator:r},context:{postId:c,postType:d},setAttributes:b}=e;const[w,m]=(0,n.useState)({}),[f,v]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=void 0===window.AbortController?void 0:new window.AbortController;return v(!0),s()({path:`wc/v3/products/${c}`,signal:null==e?void 0:e.signal}).then((e=>{let o={};e.attributes&&(o=e.attributes.filter((e=>e.id===t)).at(0)),v(!1),m(o)})),()=>null==e?void 0:e.abort()}),[t]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(a.PanelBody,null,(0,n.createElement)(p,{label:(0,l.__)("Product attribute","woocommerce-product-attributes"),value:t,onChange:e=>b({productAttributeId:e})}),(0,n.createElement)(a.TextControl,{label:(0,l.__)("Prefix","woocommerce-product-attributes"),value:o,onChange:e=>b({prefix:e})}),(0,n.createElement)(a.TextControl,{label:(0,l.__)("Separator","woocommerce-product-attributes"),value:r,onChange:e=>b({separator:e})}))),(0,n.createElement)("div",(0,i.useBlockProps)(),"product"!==d?(0,n.createElement)("p",null,(0,l.__)("This block is only usable when displaying products.","woocommerce-product-attributes")):t<1?(0,n.createElement)("p",null,(0,l.__)("Please choose a product attribute to display.","woocommerce-product-attributes")):f?(0,n.createElement)("p",null,(0,n.createElement)(a.Spinner,null)):(0,u.isEmpty)(w)?void 0:(0,n.createElement)("p",null,`${o}${w.options.join(r)}`)))}})}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var u=o[e]={exports:{}};return t[e](u,u.exports,r),u.exports}r.m=t,e=[],r.O=function(t,o,n,u){if(!o){var l=1/0;for(s=0;s<e.length;s++){o=e[s][0],n=e[s][1],u=e[s][2];for(var i=!0,a=0;a<o.length;a++)(!1&u||l>=u)&&Object.keys(r.O).every((function(e){return r.O[e](o[a])}))?o.splice(a--,1):(i=!1,u<l&&(l=u));if(i){e.splice(s--,1);var c=n();void 0!==c&&(t=c)}}return t}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[o,n,u]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,u,l=o[0],i=o[1],a=o[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(a)var s=a(r)}for(t&&t(o);c<l.length;c++)u=l[c],r.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return r.O(s)},o=self.webpackChunkwoocommerce_product_attributes=self.webpackChunkwoocommerce_product_attributes||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var n=r.O(void 0,[431],(function(){return r(838)}));n=r.O(n)}();